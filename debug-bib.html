---
layout: default
title: "Debug BibTeX Loading"
permalink: /debug-bib/
hidden: true
---

<div style="padding: 2rem; max-width: 1000px; margin: 0 auto;">
  <h1>Debug BibTeX Loading</h1>
  <button id="test-load" style="background: #3498db; color: white; border: none; padding: 1rem 2rem; border-radius: 5px; cursor: pointer;">Test BibTeX Loading</button>
  
  <div id="results" style="margin-top: 2rem;"></div>
</div>

<script>
document.getElementById('test-load').addEventListener('click', async () => {
  const resultsDiv = document.getElementById('results');
  resultsDiv.innerHTML = '<div style="background: #f0f0f0; padding: 1rem; border-radius: 5px;">Testing...</div>';
  
  const possiblePaths = [
    'files/findapdf/findapdf_tofind.bib',
    '/files/findapdf/findapdf_tofind.bib',
    './files/findapdf/findapdf_tofind.bib',
    '../files/findapdf/findapdf_tofind.bib'
  ];
  
  let results = [];
  
  for (const path of possiblePaths) {
    try {
      console.log(`Testing path: ${path}`);
      const response = await fetch(path);
      const status = `${response.status} ${response.statusText}`;
      
      if (response.ok) {
        const text = await response.text();
        const firstLines = text.split('\n').slice(0, 5).join('\n');
        results.push(`
          <div style="background: #e8f5e8; border: 1px solid #27ae60; padding: 1rem; margin: 0.5rem 0; border-radius: 5px;">
            <strong>✅ SUCCESS: ${path}</strong><br>
            Status: ${status}<br>
            Size: ${text.length} characters<br>
            First few lines:<br>
            <pre style="background: #f8f8f8; padding: 0.5rem; font-size: 0.8rem; overflow-x: auto;">${firstLines}</pre>
          </div>
        `);
        break; // Stop on first success
      } else {
        results.push(`
          <div style="background: #ffe6e6; border: 1px solid #e74c3c; padding: 1rem; margin: 0.5rem 0; border-radius: 5px;">
            <strong>❌ FAILED: ${path}</strong><br>
            Status: ${status}
          </div>
        `);
      }
    } catch (error) {
      results.push(`
        <div style="background: #fff3cd; border: 1px solid #ffc107; padding: 1rem; margin: 0.5rem 0; border-radius: 5px;">
          <strong>⚠️ ERROR: ${path}</strong><br>
          Error: ${error.message}
        </div>
      `);
    }
  }
  
  resultsDiv.innerHTML = results.join('');
});
</script>